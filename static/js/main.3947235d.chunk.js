(this["webpackJsonpfront-end-b2b-react"]=this["webpackJsonpfront-end-b2b-react"]||[]).push([[0],{226:function(e,t,a){e.exports=a(427)},231:function(e,t,a){},426:function(e,t,a){},427:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(4),c=a.n(l),o=(a(231),a(65)),s=a(221),i=a(27),m=a(428),u=a(15),p=a(432),d={url:"https://api.livemarket.business",auth:"/oauth/token",products:{endPointBase:"/api/v1/products/"},SecurityCredentials:{user:"flutter-app",password:"L4gzz8ECBrdmzP8CpgGeSVa9"}},E=a(92),g=a.n(E),f={getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"id",r="".concat(d.url).concat(d.products.endPointBase,"?page=").concat(t,"&size=").concat(a,"&sortBy=").concat(n);return g.a.get(r,{headers:{Authorization:e}})},getEdit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id",a="".concat(d.url).concat(d.products.endPointBase).concat(t,"/");return g.a.get(a,{headers:{Authorization:e}})}},h=a(429),y=a(430),b=m.a.Header,v=(m.a.Footer,m.a.Content),k=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null,r.a.createElement(b,null),r.a.createElement(v,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280}},r.a.createElement(h.a,null,r.a.createElement(y.a,{span:5}),r.a.createElement(y.a,{span:18},e.children)))))},O=a(19),I={productColumns:[{title:"Name",dataIndex:"name",key:"name"},{title:"price",dataIndex:"price",key:"price"},{title:"category",dataIndex:"category.name",key:"category"},{title:"Action",key:"action",render:function(e){"/products/edit/".concat(e.id,"/");var t="/products/delete/".concat(e.id,"/");return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.b,{to:t},r.a.createElement(O.a,{type:"primary"},"Delete")),r.a.createElement(i.b,{to:t},r.a.createElement(O.a,{type:"danger"},"Edit")))}}]},S=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),l=a[0],c=a[1];return Object(n.useEffect)((function(){e.user&&f.getAll(e.user.Authorization,0).then((function(e){c(e.data.content)}))}),[e.user]),r.a.createElement(k,null,r.a.createElement(p.a,{dataSource:l,columns:I.productColumns}))},C=a(48),w=a(431),P=a(434),j=a(436),A=C.a.Option;w.a.Option;function x(e){var t=Object(u.f)().id,a=Object(n.useState)({}),l=Object(o.a)(a,2),c=(l[0],l[1]),s={labelCol:{span:4},wrapperCol:{span:14}},i={wrapperCol:{span:14,offset:4}};return Object(n.useEffect)((function(){t&&f.getEdit(e.user.Authorization,t).then((function(e){c(e.data)}))}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null,r.a.createElement(P.a,{layout:"horizontal",onSubmit:function(t){t.preventDefault(),e.form.validateFields((function(e,t){e||console.log("Received values of form: ",t)}))}},r.a.createElement(P.a.Item,Object.assign({name:"name"},s,{rules:[{required:!0,message:"Please type name!"}]}),r.a.createElement(j.a,{placeholder:"Please input   name"})),r.a.createElement(C.a,{name:"Category",placeholder:"Please select a country"},r.a.createElement(A,{value:"china"},"China"),r.a.createElement(A,{value:"usa"},"U.S.A")),",",r.a.createElement(P.a.Item,Object.assign({name:"quality"},s,{rules:[{required:!0,message:"Please type quality!"}]}),r.a.createElement(j.a,{placeholder:"Please input quality"})),r.a.createElement(P.a.Item,Object.assign({name:"price"},s,{rules:[{required:!0,message:"Please input your price"}]}),r.a.createElement(j.a,{placeholder:"Please input your price"})),r.a.createElement(P.a.Item,i,r.a.createElement(O.a,{type:"primary",htmlType:"submit"},"Submit")))))}function F(){return r.a.createElement("h2",null,"About")}var z=a(433);function B(){var e=Object(u.f)().topicId;return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,null),r.a.createElement("h3",null,"Requested topic ID: ",e))}function N(){var e=Object(u.g)();return r.a.createElement("div",null,r.a.createElement("h2",null,"Topics"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"".concat(e.url,"/components")},"Components")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"".concat(e.url,"/props-v-state")},"Props v. State"))),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"".concat(e.path,"/:topicId")},r.a.createElement(B,null)),r.a.createElement(u.a,{path:e.path},r.a.createElement("h3",null,"Please select a topic."))))}function q(){return r.a.createElement("h2",null,"Home")}function M(e){return r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/about"},r.a.createElement(F,e)),r.a.createElement(u.a,{path:"/topics"},r.a.createElement(N,e)),r.a.createElement(u.a,{path:"/products/edit/:id",children:r.a.createElement(x,e)}),r.a.createElement(u.a,{path:"/products/delete/:id",children:r.a.createElement(x,e)}),r.a.createElement(u.a,{path:"/products"},r.a.createElement(S,e)),r.a.createElement(u.a,{path:"/"},r.a.createElement(q,e)))}var T=a(67),U=a(437),D=T.a.SubMenu;function H(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline"},r.a.createElement(T.a.Item,{key:"1"},r.a.createElement(i.b,{to:"/products"},r.a.createElement(U.a,{type:"rocket"}),r.a.createElement("span",null,"Products"))),r.a.createElement(T.a.Item,{key:"2"},r.a.createElement(U.a,{type:"desktop"}),r.a.createElement("span",null,"Option 2")),r.a.createElement(D,{key:"sub1",title:r.a.createElement("span",null,r.a.createElement(U.a,{type:"user"}),r.a.createElement("span",null,"User"))},r.a.createElement(T.a.Item,{key:"3"},"Tom"),r.a.createElement(T.a.Item,{key:"4"},"Bill"),r.a.createElement(T.a.Item,{key:"5"},"Alex")),r.a.createElement(D,{key:"sub2",title:r.a.createElement("span",null,r.a.createElement(U.a,{type:"team"}),r.a.createElement("span",null,"Team"))},r.a.createElement(T.a.Item,{key:"6"},"Team 1"),r.a.createElement(T.a.Item,{key:"8"},"Team 2")),r.a.createElement(T.a.Item,{key:"9"},r.a.createElement(U.a,{type:"file"}),r.a.createElement("span",null,"File")),r.a.createElement(T.a.Item,{key:"10",onClick:e.logout},r.a.createElement(U.a,{type:"logout"}),r.a.createElement("span",null,"Logout"))))}var L=m.a.Header,J=m.a.Content,_=m.a.Footer,R=m.a.Sider;function V(e){var t=Object(s.a)({},e),a=t.state,n=t.onCollapse;return r.a.createElement(i.a,null,r.a.createElement(m.a,{style:{minHeight:"100vh"}},r.a.createElement(R,{collapsible:!0,collapsed:a.collapsed,onCollapse:n},r.a.createElement("div",{className:"logo"}),r.a.createElement(H,e)),r.a.createElement(m.a,null,r.a.createElement(L,{style:{background:"#fff",padding:0}}),r.a.createElement(J,{style:{margin:"0 16px"}},r.a.createElement(M,e)),r.a.createElement(_,{style:{textAlign:"center"}},"Ant Design \xa92018 Created by Ant UED"))))}var W=a(210),G=a(211),K=a(222),$=a(218),Q=a(435),X=a(212),Y=a.n(X),Z={doLogin:function(e){var t={"Content-Type":"application/x-www-form-urlencoded;charset=utf-8",Authorization:"Basic "+btoa("".concat(d.SecurityCredentials.user,":").concat(d.SecurityCredentials.password))},a={grant_type:"password",username:e.username,password:e.password};return g.a.post("".concat(d.url).concat(d.auth),Y.a.stringify(a),{headers:t})}},ee=m.a.Header,te=m.a.Footer,ae=m.a.Content,ne=function(e){Object(K.a)(a,e);var t=Object($.a)(a);function a(){var e;Object(W.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={Modavisible:!1},e.handleSubmit=function(t){Z.doLogin(t).then((function(t){e.props.setUser(t.data)})).catch((function(e){Q.a.error({title:"Error",content:e.response.data.error_description})}))},e.toggleModal=function(){e.setState({Modavisible:!e.state.Modavisible})},e}return Object(G.a)(a,[{key:"render",value:function(){return r.a.createElement(m.a,{className:"layout"},r.a.createElement(ee,null,r.a.createElement("div",{className:"logo"})),r.a.createElement(ae,null,r.a.createElement(h.a,{type:"flex"},r.a.createElement(y.a,{span:9,order:1},r.a.createElement(Q.a,{title:"Modal",visible:this.state.Modavisible,onOk:this.toggleModal,okText:"Ok"})),r.a.createElement(y.a,{span:6,order:2},r.a.createElement(P.a,{className:"login-form",placeholder:"Username",onFinish:this.handleSubmit,onFinishFailed:function(e){console.log("Failed:",e)}},r.a.createElement(P.a.Item,{name:"username",rules:[{required:!0,message:"Please input your username!"}]},r.a.createElement(j.a,{prefix:r.a.createElement(U.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"})),r.a.createElement(P.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(j.a,{prefix:r.a.createElement(U.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"})),r.a.createElement(P.a.Item,{name:"remember",rules:[{valuePropName:"checked",initialValue:!0}]},r.a.createElement("a",{className:"login-form-forgot",href:""},"Forgot password"),r.a.createElement("br",null),r.a.createElement(O.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in")))))),r.a.createElement(te,{style:{textAlign:"center"}},"Ant Design \xa92018 Created by Ant UED"))}}]),a}(r.a.Component);a(426);function re(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)({collapsed:!1,user:null}),s=Object(o.a)(c,2),i=s[0],m=s[1];Object(n.useEffect)((function(){sessionStorage.getItem("userProfile")&&l(JSON.parse(sessionStorage.getItem("userProfile")))}),[]);var u=function(e){m({collapsed:e})};return a&&a!=={}?r.a.createElement(V,{state:i,onCollapse:u,logout:function(){sessionStorage.removeItem("userProfile"),l(null)},user:a}):r.a.createElement(ne,{setUser:function(e){e.Authorization="Bearer ".concat(e.access_token),sessionStorage.setItem("userProfile",JSON.stringify(e)),l(e)},state:i,onCollapse:u,user:a})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[226,1,2]]]);
//# sourceMappingURL=main.3947235d.chunk.js.map